# 変更履歴 (CHANGELOG)

## v1.0.0 (2026-01-13)

### 破壊的変更 (Breaking Changes)
- 内部の実装詳細（トークナイザー、パーサー、評価器、DOMヘルパー）がエクスポートされなくなりました。
- ディレクトリ構造の再編成：内部ロジックを `src/internal/` に移動しました。

### 追加 (Added)
- **APIの安定化**: 公開APIが厳密に定義され、v1.x向けに固定されました。
- **算術演算子**: 式の中で `+`, `-`, `*`, `/`, `%` のサポートを追加しました。
- **セレクターサポートの改善**: `findById` が `name` 属性および `data-fx-id` にフォールバックするようになり、開発体験が向上しました。
- **メモリ管理**: 全てイベントリスナーとオブザーバーが確実にクリアされるよう、`destroy()` メソッドを強化しました。
- **ルールの優先順位**: 同じ要素に対して、JSONルールが属性ベースのルールを正しく上書きするようになりました。
- **ビルド**: `package.json` で適切な `exports` を指定し、ESMおよびCommonJSのサポートを追加しました。RuleEditorが個別のエントリポイントになりました。
- **テスト**: Vitestを使用した包括的なユニットテストおよび統合テストスイートを追加しました。
- **ラジオボタンのサポート**: 式内でのラジオボタングループの処理を改善しました。

### 修正 (Fixed)
- `show/hide` エフェクトが元の表示スタイルを復元しない問題を修正しました。
- `name` 属性のみで参照されているフィールドの依存関係追跡を修正しました。

---

## v0.4.0
- ルールエディタを追加。
- 永続化（localStorage）を追加。
- `pause()` / `resume()` / `reEvaluate()` メソッドを追加。

## v0.3.0
- リピーター（Repeater）のサポートを追加。
- `@row` コンテキストを追加。

## v0.2.0
- JSONルールのサポートを追加。
- 初期の属性ベースのルールを実装。

## v0.1.0
- 初回の内部リリース。
